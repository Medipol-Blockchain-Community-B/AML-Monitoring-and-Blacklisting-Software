{"ast":null,"code":"import { useRef as b, useEffect as L } from \"react\";\nimport { Keys as v } from \"../components/keyboard.js\";\nimport { focusElement as o, focusIn as H, Focus as T, FocusResult as R } from \"../utils/focus-management.js\";\nimport { useEventListener as d } from \"./use-event-listener.js\";\nimport { useIsMounted as i } from \"./use-is-mounted.js\";\nimport { useOwnerDocument as O } from \"./use-owner.js\";\n\nvar j = (r => (r[r.None = 1] = \"None\", r[r.InitialFocus = 2] = \"InitialFocus\", r[r.TabLock = 4] = \"TabLock\", r[r.FocusLock = 8] = \"FocusLock\", r[r.RestoreFocus = 16] = \"RestoreFocus\", r[r.All = 30] = \"All\", r))(j || {});\n\nfunction B(u) {\n  let f = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  let {\n    initialFocus: t,\n    containers: s\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let m = b(null),\n      c = b(null),\n      r = i(),\n      M = Boolean(f & 16),\n      a = Boolean(f & 2),\n      e = O(u);\n  return L(() => {\n    !M || m.current || (m.current = e == null ? void 0 : e.activeElement);\n  }, [M, e]), L(() => {\n    if (!!M) return () => {\n      o(m.current), m.current = null;\n    };\n  }, [M]), L(() => {\n    if (!a) return;\n    let l = u.current;\n    if (!l) return;\n    let n = e == null ? void 0 : e.activeElement;\n\n    if (t != null && t.current) {\n      if ((t == null ? void 0 : t.current) === n) {\n        c.current = n;\n        return;\n      }\n    } else if (l.contains(n)) {\n      c.current = n;\n      return;\n    }\n\n    t != null && t.current ? o(t.current) : H(l, T.First) === R.Error && console.warn(\"There are no focusable elements inside the <FocusTrap />\"), c.current = e == null ? void 0 : e.activeElement;\n  }, [u, t, a, e]), d(e == null ? void 0 : e.defaultView, \"keydown\", l => {\n    !(f & 4) || !u.current || l.key === v.Tab && (l.preventDefault(), H(u.current, (l.shiftKey ? T.Previous : T.Next) | T.WrapAround) === R.Success && (c.current = e == null ? void 0 : e.activeElement));\n  }), d(e == null ? void 0 : e.defaultView, \"focus\", l => {\n    if (!(f & 8)) return;\n    let n = new Set(s == null ? void 0 : s.current);\n    if (n.add(u), !n.size) return;\n    let p = c.current;\n    if (!p || !r.current) return;\n    let E = l.target;\n    E && E instanceof HTMLElement ? k(n, E) ? (c.current = E, o(E)) : (l.preventDefault(), l.stopPropagation(), o(p)) : o(c.current);\n  }, !0), m;\n}\n\nfunction k(u, f) {\n  var t;\n\n  for (let s of u) if ((t = s.current) != null && t.contains(f)) return !0;\n\n  return !1;\n}\n\nexport { j as Features, B as useFocusTrap };","map":{"version":3,"names":["useRef","b","useEffect","L","Keys","v","focusElement","o","focusIn","H","Focus","T","FocusResult","R","useEventListener","d","useIsMounted","i","useOwnerDocument","O","j","r","None","InitialFocus","TabLock","FocusLock","RestoreFocus","All","B","u","f","initialFocus","t","containers","s","m","c","M","Boolean","a","e","current","activeElement","l","n","contains","First","Error","console","warn","defaultView","key","Tab","preventDefault","shiftKey","Previous","Next","WrapAround","Success","Set","add","size","p","E","target","HTMLElement","k","stopPropagation","Features","useFocusTrap"],"sources":["/Users/burakkaratas/first-try/node_modules/@headlessui/react/dist/hooks/use-focus-trap.js"],"sourcesContent":["import{useRef as b,useEffect as L}from\"react\";import{Keys as v}from\"../components/keyboard.js\";import{focusElement as o,focusIn as H,Focus as T,FocusResult as R}from\"../utils/focus-management.js\";import{useEventListener as d}from\"./use-event-listener.js\";import{useIsMounted as i}from\"./use-is-mounted.js\";import{useOwnerDocument as O}from\"./use-owner.js\";var j=(r=>(r[r.None=1]=\"None\",r[r.InitialFocus=2]=\"InitialFocus\",r[r.TabLock=4]=\"TabLock\",r[r.FocusLock=8]=\"FocusLock\",r[r.RestoreFocus=16]=\"RestoreFocus\",r[r.All=30]=\"All\",r))(j||{});function B(u,f=30,{initialFocus:t,containers:s}={}){let m=b(null),c=b(null),r=i(),M=Boolean(f&16),a=Boolean(f&2),e=O(u);return L(()=>{!M||m.current||(m.current=e==null?void 0:e.activeElement)},[M,e]),L(()=>{if(!!M)return()=>{o(m.current),m.current=null}},[M]),L(()=>{if(!a)return;let l=u.current;if(!l)return;let n=e==null?void 0:e.activeElement;if(t!=null&&t.current){if((t==null?void 0:t.current)===n){c.current=n;return}}else if(l.contains(n)){c.current=n;return}t!=null&&t.current?o(t.current):H(l,T.First)===R.Error&&console.warn(\"There are no focusable elements inside the <FocusTrap />\"),c.current=e==null?void 0:e.activeElement},[u,t,a,e]),d(e==null?void 0:e.defaultView,\"keydown\",l=>{!(f&4)||!u.current||l.key===v.Tab&&(l.preventDefault(),H(u.current,(l.shiftKey?T.Previous:T.Next)|T.WrapAround)===R.Success&&(c.current=e==null?void 0:e.activeElement))}),d(e==null?void 0:e.defaultView,\"focus\",l=>{if(!(f&8))return;let n=new Set(s==null?void 0:s.current);if(n.add(u),!n.size)return;let p=c.current;if(!p||!r.current)return;let E=l.target;E&&E instanceof HTMLElement?k(n,E)?(c.current=E,o(E)):(l.preventDefault(),l.stopPropagation(),o(p)):o(c.current)},!0),m}function k(u,f){var t;for(let s of u)if((t=s.current)!=null&&t.contains(f))return!0;return!1}export{j as Features,B as useFocusTrap};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}